# node异常捕获


## 为什么要处理异常


1. 不处理直接导致程序奔溃
2. 导致请求无法被释放，直至连接超时

## 如何处理Node.js异常


.


- try catch 方式 (处理同步)

.

但是try catch方式无法处理异步代码块内出现的异常，你可以理解为执行catch时，异常还没有发生。

.


- process (处理异步)

process 对象是一个 global （全局变量），提供有关信息，控制当前 Node.js 进程。作为一个对象，它对于 Node.js 应用程序始终是可用的，故无需使用 require()

Event: 'uncaughtException'

如果Javascript未捕获的异常，沿着代码调用路径反向传递回event loop，会触发'uncaughtException'事件。 Node.js默认情况下会将这些异常堆栈打印到stderr 然后进程退出。 为'uncaughtException'事件增加监听器会覆盖上述默认行为。

'uncaughtException'事件监听器的回调函数，使用Error object作为唯一参数值。


.


- domain方式(废弃)
Node.js Domain(域) 简化异步代码的异常处理，可以捕捉处理try catch无法捕捉的异常

[hear](r01.md)
